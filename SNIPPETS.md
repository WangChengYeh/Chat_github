# Code Snippets Management

This project includes a local snippet management system that can upload code snippets to your GitHub repository.

## Files

- **`snippets.config.json`** - Configuration file containing all code snippets
- **`scripts/upload-snippets.js`** - Script to upload snippets to GitHub
- **`.config`** - Contains GitHub credentials (not tracked in git)

## Usage

### View Available Snippets
```bash
# List all snippet IDs and names
cat snippets.config.json | jq '.snippets[] | {id, name, description}'
```

### Upload All Snippets
```bash
npm run upload-snippets
```

### Upload Specific Snippet
```bash
npm run upload-snippets react-component
npm run upload-snippets api-fetch
```

## Adding New Snippets

Edit `snippets.config.json` and add new snippets:

```json
{
  "id": "your-snippet-id",
  "name": "Human Readable Name",
  "description": "What this snippet does",
  "language": "ts|tsx|js|jsx|json|md|css|html|py",
  "content": "// Your code here\nconst example = 'Hello World';"
}
```

## Available Snippets

### React Component (`react-component`)
- **Language**: TypeScript React
- **Description**: Basic React functional component template with TypeScript interfaces

### API Fetch (`api-fetch`) 
- **Language**: TypeScript
- **Description**: Async function with proper error handling and generic typing

### GitHub Service (`github-service`)
- **Language**: TypeScript  
- **Description**: Template for adding methods to the GitHub API service class

### CLI Command (`cli-command`)
- **Language**: TypeScript
- **Description**: Template for adding new command handlers to the CLI interface

### PWA Manifest (`pwa-manifest`)
- **Language**: JSON
- **Description**: Complete Progressive Web App manifest configuration

## Upload Configuration

Snippets are uploaded to: `snippets/` directory in your repository

```json
{
  "uploadConfig": {
    "targetRepo": {
      "owner": "WangChengYeh",
      "repo": "Chat_github", 
      "branch": "main",
      "path": "snippets/"
    },
    "commitMessage": "feat: add code snippets"
  }
}
```

## File Extensions

The script automatically assigns file extensions based on language:

| Language | Extension |
|----------|-----------|
| `ts`     | `.ts`     |
| `tsx`    | `.tsx`    |
| `js`     | `.js`     |
| `jsx`    | `.jsx`    |
| `json`   | `.json`   |
| `md`     | `.md`     |
| `css`    | `.css`    |
| `html`   | `.html`   |
| `python`, `py` | `.py` |
| (other)  | `.txt`    |

## Output Files

Uploaded snippets include metadata headers:

```typescript
// Snippet: React Component Template
// Description: Basic React functional component with TypeScript
// Language: tsx
// Generated by Chat GitHub PWA

import React from 'react';
// ... rest of code
```

## Error Handling

- ✅ Checks if files already exist (updates vs creates)
- ✅ Proper GitHub API error handling
- ✅ Rate limiting protection (500ms delay between uploads)
- ✅ Detailed success/failure reporting
- ✅ Validates configuration files before upload

## Examples

```bash
# Upload all snippets to GitHub
npm run upload-snippets

# Upload only the React component template
npm run upload-snippets react-component

# Upload only the API fetch utility
npm run upload-snippets api-fetch
```

## Security Notes

- The `.config` file contains sensitive tokens and is **not tracked in git**
- Make sure your GitHub token has `contents:write` permission
- Snippets are uploaded to the public repository (if public)